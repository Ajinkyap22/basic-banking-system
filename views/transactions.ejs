<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include('./partials/head') -%>
  </head>
  <body>
    <header><%- include('./partials/header') -%></header>

    <main class="container-fluid text-center pt-3">
      <h2 class="py-3">Transaction History</h2>

      <% if (transactions.length > 0 ) { %>
      <div class="table-responsive">
        <table class="m-auto table align-middle mt-3">
          <tr>
            <th scope="col">From</th>
            <th scope="col">To</th>
            <th scope="col">Amount</th>
            <th scope="col">Date</th>
            <th scope="col">Description</th>
          </tr>

          <% transactions.forEach((transaction) => { %>
          <tr>
            <td><%= transaction.user.sender.name %></td>
            <td><%= transaction.user.receiver.name %></td>
            <td><%= transaction.amount %></td>
            <td><%= transaction.date_formatted %></td>
            <td><%= transaction.description || 'N/A' %></td>
          </tr>
          <% }) %>
        </table>
      </div>
      <% } else { %>
      <h6 class="py-3">
        You haven't made any transactions yet, why not make one?
      </h6>
      <a href="/transfer" class="btn btn-table">Transfer Money</a>
      <% } %>
    </main>

    <footer><%- include('./partials/footer') -%></footer>
  </body>
</html>
